{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- ================= HERO SECTION ================= -->
<section class="py-5 text-center bg-white rounded shadow-sm mb-5">
    <div class="px-4">
        <h1 class="display-5 fw-bold">Welcome to EduGate ðŸŽ“</h1>
        <p class="lead text-muted mt-3">
            A modern academic platform connecting <strong>students</strong>, <strong>teachers</strong>,
            and <strong>parents</strong> in one place.
        </p>
        <div class="mt-4">
            {% if user.is_authenticated %}
                <a href="{% url 'accounts:dashboard' %}" class="btn btn-primary btn-lg px-4">
                    Go to Dashboard <i class="fas fa-arrow-right ms-2"></i>
                </a>
            {% else %}
                <a href="{% url 'accounts:login' %}" class="btn btn-outline-primary btn-lg px-4">
                    Login
                </a>
            {% endif %}
        </div>
    </div>
</section>


<!-- ================= FEATURE CARDS ================= -->
<h2 class="fw-bold mb-3"><i class="fas fa-layer-group me-2 text-primary"></i> Platform Features</h2>
<div class="row row-cols-1 row-cols-md-3 g-4 mb-5">

    <div class="col">
        <div class="card text-center p-3 shadow-sm">
            <i class="fas fa-user-graduate fa-3x text-primary mb-3"></i>
            <h5 class="fw-bold">Students</h5>
            <p class="text-muted">Access lessons, quizzes, grades, and more in a modern dashboard.</p>
        </div>
    </div>

    <div class="col">
        <div class="card text-center p-3 shadow-sm">
            <i class="fas fa-chalkboard-teacher fa-3x text-success mb-3"></i>
            <h5 class="fw-bold">Teachers</h5>
            <p class="text-muted">Manage classes, lessons, homework, and publish announcements.</p>
        </div>
    </div>

    <div class="col">
        <div class="card text-center p-3 shadow-sm">
            <i class="fas fa-users fa-3x text-warning mb-3"></i>
            <h5 class="fw-bold">Parents</h5>
            <p class="text-muted">Track your child's progress, grades, and academic activity.</p>
        </div>
    </div>

</div>


<!-- ================= ANNOUNCEMENTS ================= -->
<h2 class="fw-bold"><i class="fas fa-bullhorn me-2 text-danger"></i> School Announcements</h2>
<hr>

{% if announcements %}
<div class="row row-cols-1 row-cols-md-2 g-4 mt-3">

    {% for ann in announcements %}
    <div class="col">
        <div class="card h-100 shadow-sm border-0">
            
            {% if ann.image %}
                <img src="{{ ann.image.url }}"
                    class="card-img-top"
                    style="height: 180px; object-fit: cover; border-radius: 8px 8px 0 0;">
            {% else %}
                <img src="{% static 'images/announcement-placeholder.jpg' %}"
                    class="card-img-top"
                    style="height: 180px; object-fit: cover; border-radius: 8px 8px 0 0;">
            {% endif %}


            <div class="card-body">
                {% if ann.is_important %}
                <span class="badge bg-danger float-end">Important</span>
                {% endif %}

                <h5 class="fw-bold">{{ ann.title }}</h5>
                <p class="text-muted">{{ ann.content|truncatechars:120 }}</p>

                <small class="text-secondary">
                    Published: {{ ann.created_at|date:"M d, Y" }}
                    {% if ann.end_date %}
                     | Expires: {{ ann.end_date|date:"M d, Y" }}
                    {% endif %}
                </small>
            </div>
        </div>
    </div>
    {% endfor %}

</div>

{% else %}
<div class="alert alert-info mt-3">
    No active announcements right now.
</div>
{% endif %}

{% endblock content %}
